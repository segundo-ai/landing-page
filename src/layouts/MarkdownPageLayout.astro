---
import BaseLayout from "./BaseLayout.astro";
import Footer from "../components/Footer.astro";
import { Breadcrumb, BreadcrumbItem, BreadcrumbLink, BreadcrumbList, BreadcrumbPage, BreadcrumbSeparator } from "@/components/starwind/breadcrumb";
import { getLanguage } from "../utils/translations";
import { site } from "../config/site";

interface Props {
  title?: string;
  description?: string;
}

const { title, description } = Astro.props;
const lang = getLanguage(Astro.url);

// Extract page name from title (remove " | Primero AI" suffix if present)
const pageName = title?.replace(" | Primero AI", "") || "";
---

<BaseLayout title={title || site.name} description={description || site.description} lang={lang}>
  <main class="bg-background min-h-screen">
    <!-- Navigation Breadcrumb -->
    <nav class="w-full px-4 sm:px-6 lg:px-8 pt-8 pb-4" aria-label="Breadcrumb">
      <div class="max-w-4xl mx-auto">
        <Breadcrumb>
          <BreadcrumbList>
            <BreadcrumbItem>
              <BreadcrumbLink href="/">Home</BreadcrumbLink>
            </BreadcrumbItem>
            <BreadcrumbSeparator />
            <BreadcrumbItem>
              <BreadcrumbPage>{pageName}</BreadcrumbPage>
            </BreadcrumbItem>
          </BreadcrumbList>
        </Breadcrumb>
      </div>
    </nav>
    
    <article class="w-full px-4 sm:px-6 lg:px-8 py-8 lg:py-12">
      <div class="max-w-4xl mx-auto 
                  [&_h1]:text-3xl [&_h1]:sm:text-4xl [&_h1]:lg:text-5xl [&_h1]:mb-6 [&_h1]:mt-0 [&_h1]:nohemi-semibold [&_h1]:text-foreground
                  [&_h2]:text-2xl [&_h2]:sm:text-3xl [&_h2]:lg:text-4xl [&_h2]:mt-8 [&_h2]:mb-4 [&_h2]:nohemi-semibold [&_h2]:text-foreground
                  [&_h3]:text-xl [&_h3]:sm:text-2xl [&_h3]:lg:text-3xl [&_h3]:mt-6 [&_h3]:mb-3 [&_h3]:nohemi-semibold [&_h3]:text-foreground
                  [&_h4]:text-lg [&_h4]:sm:text-xl [&_h4]:lg:text-2xl [&_h4]:mt-4 [&_h4]:mb-2 [&_h4]:nohemi-semibold [&_h4]:text-foreground
                  [&_p]:text-muted-foreground [&_p]:leading-relaxed [&_p]:mb-4
                  [&_a]:text-primary [&_a]:no-underline hover:[&_a]:underline
                  [&_strong]:text-foreground [&_strong]:nohemi-semibold [&_strong]:font-semibold
                  [&_ul]:text-muted-foreground [&_ul]:list-disc [&_ul]:pl-6 [&_ul]:mb-4 [&_ul]:space-y-2
                  [&_ol]:text-muted-foreground [&_ol]:list-decimal [&_ol]:pl-6 [&_ol]:mb-4 [&_ol]:space-y-2
                  [&_li]:leading-relaxed
                  [&_table]:w-full [&_table]:border-collapse [&_table]:my-6
                  [&_th]:border [&_th]:border-border [&_th]:p-3 [&_th]:bg-card [&_th]:text-left [&_th]:text-foreground [&_th]:nohemi-semibold
                  [&_td]:border [&_td]:border-border [&_td]:p-3 [&_td]:text-muted-foreground
                  [&_blockquote]:border-l-4 [&_blockquote]:border-primary [&_blockquote]:pl-4 [&_blockquote]:italic [&_blockquote]:text-muted-foreground [&_blockquote]:my-4
                  [&_code]:bg-card [&_code]:px-1.5 [&_code]:py-0.5 [&_code]:rounded [&_code]:text-sm [&_code]:text-foreground
                  [&_pre]:bg-card [&_pre]:p-4 [&_pre]:rounded-lg [&_pre]:overflow-x-auto [&_pre]:my-4
                  [&_pre_code]:bg-transparent [&_pre_code]:p-0
                  [&_hr]:border-border [&_hr]:my-8">
        <slot />
      </div>
    </article>
  </main>
  <Footer />
</BaseLayout>

