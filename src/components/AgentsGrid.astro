---
import { Image } from "astro:assets";
import { agents, type TranslatedAgent } from "@/utils/general/agents";
import { Card, CardContent } from "@/components/starwind/card";
import AgentCard from "@/components/AgentCard.astro";
import { useTranslations } from "@/utils/translations";
import segundoBlockLogo from "@/assets/logo_32_32_darkbg.png";
import Section from "@/components/Section.astro";

const t = useTranslations();

// Map agents to translated versions
const translatedAgents: TranslatedAgent[] = agents.map((agent) => ({
  id: agent.id,
  iconSrc: agent.iconSrc,
  name: t(`agents.${agent.id}.name`),
  description: t(`agents.${agent.id}.description`),
}));
---

<Section id="agents">
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- Row 1: Agents 1-3 -->
      {translatedAgents.slice(0, 3).map((agent) => (
        <AgentCard translated_agent={agent} />
      ))}
      
      <!-- Row 2: Agent 4, Logo (center), Agent 5 -->
      {translatedAgents.slice(3, 4).map((agent) => (
        <AgentCard translated_agent={agent} />
      ))}
      
      <!-- Center Logo Card (Row 2, Col 2) -->
      <div class="hidden lg:flex">
        <Card class="w-full h-full bg-gradient-to-br from-primary/10 to-secondary/10 border-2 border-primary/20">
          <CardContent class="p-4 h-full flex flex-col items-center justify-center text-center space-y-4">
            <Image
              src={segundoBlockLogo}
              alt="PrimeroAI Logo"
              class="h-8 w-8 mx-auto"
            />
            <p class="text-xl text-muted-foreground nohemi-medium" data-i18n="agents.centerCardDescription">
              {t("agents.centerCardDescription")}
            </p>
          </CardContent>
        </Card>
      </div>

      {translatedAgents.slice(4, 5).map((agent) => (
        <AgentCard translated_agent={agent} />
      ))}

      <!-- Row 3: Agents 6-8 -->
      {translatedAgents.slice(5, 8).map((agent) => (
        <AgentCard translated_agent={agent} />
      ))}
  </div>
</Section>

